# gHTTP HTTPS + reverse proxy configuration for the Gravity dev stack.
# Copy to .env.ghttp and update certificate paths for your machine.
GHTTP_SERVE_DIRECTORY=/srv/gravity/frontend
GHTTP_SERVE_PORT=8443
GHTTP_SERVE_LOGGING_TYPE=JSON
GHTTP_SERVE_TLS_CERTIFICATE=/certs/computercat.tyemirov.net.pem
GHTTP_SERVE_TLS_PRIVATE_KEY=/certs/computercat.tyemirov.net-key.pem
# Proxy backend + TAuth endpoints through ghttp so the browser stays on HTTPS.
# Routes: /notes (Gravity backend), /auth/* + /me (TAuth).
# tauth.js stays CDN-hosted and is not proxied here.
# For dev profile use gravity-backend-dev; for docker profile use gravity-backend-docker
GHTTP_SERVE_PROXIES=/notes=http://gravity-backend-dev:8080,/auth=http://gravity-tauth:8082,/me=http://gravity-tauth:8082
#
# Static file routes (served automatically from GHTTP_SERVE_DIRECTORY):
# /           -> index.html (public landing page with Google sign-in, redirects to /app.html if authenticated)
# /app.html   -> app.html (authenticated app page, redirects to / if not authenticated)
