/**
 * Bundled by jsDelivr using Rollup v2.79.2 and Terser v5.39.0.
 * Original file: /npm/lib0@0.2.117/decoding.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
const t=128,s=127,r=Math.floor,o=t=>0!==t?t<0:1/t<0,e=Number.MAX_SAFE_INTEGER,n="undefined"!=typeof TextEncoder?new TextEncoder:null;let i="undefined"==typeof TextDecoder?null:new TextDecoder("utf-8",{fatal:!0,ignoreBOM:!0});i&&1===i.decode(new Uint8Array).length&&(i=null);const c=i?t=>i.decode(t):t=>{let s=t.length,r="",o=0;for(;s>0;){const e=s<1e4?s:1e4,n=t.subarray(o,o+e);o+=e,r+=String.fromCodePoint.apply(null,n),s-=e}return decodeURIComponent(escape(r))},h=t=>new Error(t);class u{constructor(){this.cpos=0,this.cbuf=new Uint8Array(100),this.bufs=[]}}const a=t=>{const s=new Uint8Array((t=>{let s=t.cpos;for(let r=0;r<t.bufs.length;r++)s+=t.bufs[r].length;return s})(t));let r=0;for(let o=0;o<t.bufs.length;o++){const e=t.bufs[o];s.set(e,r),r+=e.length}return s.set(new Uint8Array(t.cbuf.buffer,0,t.cpos),r),s},p=(t,s)=>{const r=t.cbuf.length;t.cpos===r&&(t.bufs.push(t.cbuf),t.cbuf=new Uint8Array(2*r),t.cpos=0),t.cbuf[t.cpos++]=s},f=new Uint8Array(3e4);f.length;n&&n.encodeInto;const l=h("Unexpected end of array"),d=h("Integer out of Range");class g{constructor(t){this.arr=t,this.pos=0}}const b=t=>new g(t),w=t=>t.pos!==t.arr.length,y=(t,s=t.pos)=>{const r=b(t.arr);return r.pos=s,r},x=(t,s)=>{const r=new Uint8Array(t.arr.buffer,t.pos+t.arr.byteOffset,s);return t.pos+=s,r},U=t=>x(t,B(t)),A=t=>x(t,t.arr.length-t.pos),m=t=>t.pos++,C=t=>t.arr[t.pos++],E=t=>{const s=t.arr[t.pos]+(t.arr[t.pos+1]<<8);return t.pos+=2,s},I=t=>{const s=t.arr[t.pos]+(t.arr[t.pos+1]<<8)+(t.arr[t.pos+2]<<16)+(t.arr[t.pos+3]<<24)>>>0;return t.pos+=4,s},S=t=>{const s=t.arr[t.pos+3]+(t.arr[t.pos+2]<<8)+(t.arr[t.pos+1]<<16)+(t.arr[t.pos]<<24)>>>0;return t.pos+=4,s},T=t=>t.arr[t.pos],P=t=>t.arr[t.pos]+(t.arr[t.pos+1]<<8),R=t=>t.arr[t.pos]+(t.arr[t.pos+1]<<8)+(t.arr[t.pos+2]<<16)+(t.arr[t.pos+3]<<24)>>>0,B=r=>{let o=0,n=1;const i=r.arr.length;for(;r.pos<i;){const i=r.arr[r.pos++];if(o+=(i&s)*n,n*=128,i<t)return o;if(o>e)throw d}throw l},D=r=>{let o=r.arr[r.pos++],n=63&o,i=64;const c=(64&o)>0?-1:1;if(!(o&t))return c*n;const h=r.arr.length;for(;r.pos<h;){if(o=r.arr[r.pos++],n+=(o&s)*i,i*=128,o<t)return c*n;if(n>e)throw d}throw l},F=t=>{const s=t.pos,r=B(t);return t.pos=s,r},M=t=>{const s=t.pos,r=D(t);return t.pos=s,r},O=t=>{let s=B(t);if(0===s)return"";{let r=String.fromCodePoint(C(t));if(--s<100)for(;s--;)r+=String.fromCodePoint(C(t));else for(;s>0;){const o=s<1e4?s:1e4,e=t.arr.subarray(t.pos,t.pos+o);t.pos+=o,r+=String.fromCodePoint.apply(null,e),s-=o}return decodeURIComponent(escape(r))}},N=t=>i.decode(U(t)),_=i?N:O,G=t=>{const s=new u;let r;for(;;){if(r=C(t),0===r)return a(s);1===r&&(r=C(t)),p(s,r)}},V=t=>c(G(t)),X=t=>{const s=t.pos,r=_(t);return t.pos=s,r},j=(t,s)=>{const r=new DataView(t.arr.buffer,t.arr.byteOffset+t.pos,s);return t.pos+=s,r},k=t=>j(t,4).getFloat32(0,!1),q=t=>j(t,8).getFloat64(0,!1),v=t=>j(t,8).getBigInt64(0,!1),z=t=>j(t,8).getBigUint64(0,!1),H=[t=>{},t=>null,D,k,q,v,t=>!1,t=>!0,_,t=>{const s=B(t),r={};for(let o=0;o<s;o++){r[_(t)]=J(t)}return r},t=>{const s=B(t),r=[];for(let o=0;o<s;o++)r.push(J(t));return r},U],J=t=>H[127-C(t)](t);class K extends g{constructor(t,s){super(t),this.reader=s,this.s=null,this.count=0}read(){return 0===this.count&&(this.s=this.reader(this),w(this)?this.count=B(this)+1:this.count=-1),this.count--,this.s}}class L extends g{constructor(t,s){super(t),this.s=s}read(){return this.s+=D(this),this.s}}class Q extends g{constructor(t,s){super(t),this.s=s,this.count=0}read(){return 0===this.count&&(this.s+=D(this),w(this)?this.count=B(this)+1:this.count=-1),this.count--,this.s}}class W extends g{constructor(t){super(t),this.s=0,this.count=0}read(){if(0===this.count){this.s=D(this);const t=o(this.s);this.count=1,t&&(this.s=-this.s,this.count=B(this)+2)}return this.count--,this.s}}class Y extends g{constructor(t){super(t),this.s=0,this.count=0}read(){if(0===this.count){this.s=D(this);const t=o(this.s);this.count=1,t&&(this.s=-this.s,this.count=B(this)+2)}return this.count--,this.s++}}class Z extends g{constructor(t){super(t),this.s=0,this.count=0,this.diff=0}read(){if(0===this.count){const t=D(this),s=1&t;this.diff=r(t/2),this.count=1,s&&(this.count=B(this)+2)}return this.s+=this.diff,this.count--,this.s}}class ${constructor(t){this.decoder=new W(t),this.str=_(this.decoder),this.spos=0}read(){const t=this.spos+this.decoder.read(),s=this.str.slice(this.spos,t);return this.spos=t,s}}export{g as Decoder,Y as IncUintOptRleDecoder,L as IntDiffDecoder,Z as IntDiffOptRleDecoder,K as RleDecoder,Q as RleIntDiffDecoder,$ as StringDecoder,W as UintOptRleDecoder,N as _readVarStringNative,O as _readVarStringPolyfill,y as clone,b as createDecoder,w as hasContent,P as peekUint16,R as peekUint32,T as peekUint8,M as peekVarInt,X as peekVarString,F as peekVarUint,J as readAny,v as readBigInt64,z as readBigUint64,k as readFloat32,q as readFloat64,j as readFromDataView,A as readTailAsUint8Array,V as readTerminatedString,G as readTerminatedUint8Array,E as readUint16,I as readUint32,S as readUint32BigEndian,C as readUint8,x as readUint8Array,D as readVarInt,_ as readVarString,B as readVarUint,U as readVarUint8Array,m as skip8};export default null;
//# sourceMappingURL=/sm/287cc851654fee42ba1ac4978ce6ec5ba95cba8ad58f9d356279ed740fb8e28f.map